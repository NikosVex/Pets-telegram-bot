from aiogram import Router
from aiogram.types import Message
from aiogram.filters import CommandStart, Command

import app.keyboards as kb
import app.database.requests as rq

router = Router()


@router.message(CommandStart())
async def cmd_start_handler(message: Message):
    username = message.from_user.username
    tg_id = message.from_user.id
    if username:
        await rq.set_user(tg_id, username)
    else:
        await rq.set_user(tg_id, '–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç')
    await message.answer('–ü—Ä–∏–≤–µ—Ç! –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ–≥–æ!\n/help - –ø–æ–º–æ—â—å',
                         reply_markup=kb.main_keyboard(tg_id))


@router.message(Command('help'))
async def cmd_help_handler(message: Message):
    await message.reply(
        '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ <b>Pets</b>:\n\n/start - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞.\n/info - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ.\n\n'
        '–ö–Ω–æ–ø–∫–∞ <b>"üê± –°–º–æ—Ç—Ä–µ—Ç—å –ø–∏—Ç–æ–º—Ü–∞"</b> - –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ —ç—Ç—É –∫–Ω–æ–ø–∫—É –≤—ã –ø–æ–ø–∞–¥–∞–µ—Ç–µ –≤ –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∏—Ç–æ–º—Ü–µ–≤:\n\n'
        '1. –ö–Ω–æ–ø–∫–∞ <b>"üé≤ –°–ª—É—á–∞–π–Ω—ã–π –ø–∏—Ç–æ–º–µ—Ü"</b> - –í—ã–¥–∞–µ—Ç —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–±–∞–≤–∏–ª –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.\n'
        '2. –ö–Ω–æ–ø–∫–∞ <b>"üîé –ü–æ–∏—Å–∫ –ø–∏—Ç–æ–º—Ü–∞"</b> - –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ —ç—Ç—É –∫–Ω–æ–ø–∫—É –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –ø–æ–∏—Å–∫–∞: '
        '–ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–∏–ª –ø–∏—Ç–æ–º—Ü–∞, –ª–∏–±–æ –ø–æ –∏–º–µ–Ω–∏ –ø–∏—Ç–æ–º—Ü–∞, –¥–ª—è —Ç–æ–≥–æ, '
        '—á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ú–µ–Ω—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∏—Ç–æ–º—Ü–µ–≤ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>"‚¨ÖÔ∏è –ù–∞–∑–∞–¥"</b>.\n'
        '3. –ö–Ω–æ–ø–∫–∞ <b>"‚¨ÖÔ∏è –í –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"</b> - –í—ã –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.\n\n'
        '–ö–Ω–æ–ø–∫–∞ <b>"‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞"</b> - –î–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–º–æ–≥—É—Ç —É–≤–∏–¥–µ—Ç—å '
        '–¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.'
        ' –í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –ø–∏—Ç–æ–º—Ü–µ –∏ –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é, '
        '–ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–∏—Ç–æ–º–µ—Ü –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º!\n\n'
        '–ö–Ω–æ–ø–∫–∞ <b>"üèÖ –†–µ–π—Ç–∏–Ω–≥"</b> - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ø-10 –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É ‚ù§Ô∏è\n\n'
        '–ö–Ω–æ–ø–∫–∞ <b>"üë§ –ú–æ–π –∞–∫–∫–∞—É–Ω—Ç"</b> - –í—ã –ø–æ–ø–∞–¥–∞–µ—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç, –≥–¥–µ –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤, '
        '–∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏, —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ <b>"–ú–æ–∏ –ø–∏—Ç–æ–º—Ü—ã"</b> –∏ –ø–∏—Ç–æ–º—Ü–µ–≤, '
        '–∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ <b>"üíõ –ú–æ—ë –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"</b>.',
        parse_mode='html'
    )


@router.message(Command('info'))
async def cmd_info_handler(message: Message):
    await message.reply(
        '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:\n\n–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö <b>–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ 1 –∫—É—Ä—Å–∞ –§–°–ü–û –ì–£–ê–ü</b>\n\n'
        '–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –±–æ—Ç–∞ - –¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ –ø–∏—Ç–æ–º—Ü–∞–º–∏ –∏ '
        '—Å–º–æ—Ç—Ä–µ—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!\n\n–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ - <b>beta 1.13</b>',
        reply_markup=kb.link_button, parse_mode='html'
    )
